@*
Page used for uploading and creating new projects.
*@
@import controllers.sugar.Requests.OreRequest
@import db.ModelService
@import models.project.Project
@import models.user.Organization
@import ore.OreConfig
@import ore.project.factory.PendingProject
@import play.twirl.api.Html
@import security.NonceFilter._
@import views.html.helper.{CSRF, form}
@import views.html.utils

@(title: String, currentStep: Int)(content: Html)(implicit messages: Messages, flash: Flash, request: OreRequest[_], config: OreConfig)

@stateIcon(step: Int) = {
    @if(currentStep > step) {
        fa-check
    } else if (currentStep == step) {
        fa-eye
    }
}

@stateClass(step: Int) = {
    @if(currentStep > step) {
        disabled
    }
}

@scripts = {
    <script type="text/javascript" src="@routes.Assets.at("javascripts/pluginUpload.js")"></script>
}

@bootstrap.layout(messages("project.create"), scripts) {

    <div class="row project-creation">
        <div class="col-md-9">
            <div class="card">
                <div class="card-header">
                @messages("project.create.title")
                </div>
                <div class="card-body">
                @content
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <ul class="list-group sidebar">
                <li class="list-group-item @stateClass(1)">
                    <i class="fa fa-upload"></i>
                    Upload files
                    <i class="fa @stateIcon(1)"></i>
                </li>
                <li class="list-group-item @stateClass(2)">
                    <i class="fa fa-gears"></i>
                    Configure project
                    <i class="fa @stateIcon(2)"></i>
                </li>
                <li class="list-group-item @stateClass(3)">
                    <i class="fa fa-users"></i>
                    Invite members
                    <i class="fa @stateIcon(3)"></i>
                </li>
                <li class="list-group-item @stateClass(4)">
                    <i class="fa fa-send"></i>
                    Publish project
                    <i class="fa @stateIcon(4)"></i>
                </li>
            </ul>
        </div>
    </div>

}
